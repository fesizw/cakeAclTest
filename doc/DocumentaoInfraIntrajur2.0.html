<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url('https://themes.googleusercontent.com/fonts/css?kit=X-CahsKZZcJfSyZ_tX4ptg');ol.lst-kix_list_1-3{list-style-type:none}ol.lst-kix_list_1-4{list-style-type:none}.lst-kix_list_2-6>li:before{content:"\0025cf  "}.lst-kix_list_2-7>li:before{content:"\0025cb  "}ol.lst-kix_list_1-5{list-style-type:none}ol.lst-kix_list_1-6{list-style-type:none}ol.lst-kix_list_1-0{list-style-type:none}.lst-kix_list_2-4>li:before{content:"\0025cb  "}.lst-kix_list_2-5>li:before{content:"\0025a0  "}.lst-kix_list_2-8>li:before{content:"\0025a0  "}ol.lst-kix_list_1-1{list-style-type:none}ol.lst-kix_list_1-2{list-style-type:none}.lst-kix_list_1-1>li{counter-increment:lst-ctn-kix_list_1-1}.lst-kix_list_3-0>li:before{content:"\0025cf  "}.lst-kix_list_3-1>li:before{content:"\0025cb  "}.lst-kix_list_3-2>li:before{content:"\0025a0  "}ul.lst-kix_list_3-7{list-style-type:none}ul.lst-kix_list_3-8{list-style-type:none}ol.lst-kix_list_1-8.start{counter-reset:lst-ctn-kix_list_1-8 0}ul.lst-kix_list_3-1{list-style-type:none}.lst-kix_list_3-5>li:before{content:"\0025a0  "}ul.lst-kix_list_3-2{list-style-type:none}.lst-kix_list_3-4>li:before{content:"\0025cb  "}ul.lst-kix_list_3-0{list-style-type:none}ol.lst-kix_list_1-5.start{counter-reset:lst-ctn-kix_list_1-5 0}ol.lst-kix_list_1-7{list-style-type:none}.lst-kix_list_3-3>li:before{content:"\0025cf  "}ul.lst-kix_list_3-5{list-style-type:none}.lst-kix_list_1-7>li{counter-increment:lst-ctn-kix_list_1-7}ol.lst-kix_list_1-8{list-style-type:none}ul.lst-kix_list_3-6{list-style-type:none}ul.lst-kix_list_3-3{list-style-type:none}ul.lst-kix_list_3-4{list-style-type:none}.lst-kix_list_3-8>li:before{content:"\0025a0  "}.lst-kix_list_3-6>li:before{content:"\0025cf  "}.lst-kix_list_3-7>li:before{content:"\0025cb  "}ol.lst-kix_list_1-7.start{counter-reset:lst-ctn-kix_list_1-7 0}.lst-kix_list_1-2>li{counter-increment:lst-ctn-kix_list_1-2}.lst-kix_list_1-5>li{counter-increment:lst-ctn-kix_list_1-5}.lst-kix_list_1-8>li{counter-increment:lst-ctn-kix_list_1-8}ol.lst-kix_list_1-4.start{counter-reset:lst-ctn-kix_list_1-4 0}ol.lst-kix_list_1-1.start{counter-reset:lst-ctn-kix_list_1-1 0}.lst-kix_list_1-4>li{counter-increment:lst-ctn-kix_list_1-4}ol.lst-kix_list_1-6.start{counter-reset:lst-ctn-kix_list_1-6 0}ol.lst-kix_list_1-3.start{counter-reset:lst-ctn-kix_list_1-3 0}ul.lst-kix_list_2-8{list-style-type:none}ol.lst-kix_list_1-2.start{counter-reset:lst-ctn-kix_list_1-2 0}ul.lst-kix_list_2-2{list-style-type:none}.lst-kix_list_1-0>li:before{content:" "}ul.lst-kix_list_2-3{list-style-type:none}ul.lst-kix_list_2-0{list-style-type:none}ul.lst-kix_list_2-1{list-style-type:none}ul.lst-kix_list_2-6{list-style-type:none}.lst-kix_list_1-1>li:before{content:" "}.lst-kix_list_1-2>li:before{content:" "}ul.lst-kix_list_2-7{list-style-type:none}ul.lst-kix_list_2-4{list-style-type:none}ul.lst-kix_list_2-5{list-style-type:none}.lst-kix_list_1-3>li:before{content:" "}.lst-kix_list_1-4>li:before{content:" "}ol.lst-kix_list_1-0.start{counter-reset:lst-ctn-kix_list_1-0 0}.lst-kix_list_1-0>li{counter-increment:lst-ctn-kix_list_1-0}.lst-kix_list_1-6>li{counter-increment:lst-ctn-kix_list_1-6}.lst-kix_list_1-7>li:before{content:" "}.lst-kix_list_1-3>li{counter-increment:lst-ctn-kix_list_1-3}.lst-kix_list_1-5>li:before{content:" "}.lst-kix_list_1-6>li:before{content:" "}.lst-kix_list_2-0>li:before{content:"\0025cf  "}.lst-kix_list_2-1>li:before{content:"\0025cb  "}.lst-kix_list_1-8>li:before{content:" "}.lst-kix_list_2-2>li:before{content:"\0025a0  "}.lst-kix_list_2-3>li:before{content:"\0025cf  "}ol{margin:0;padding:0}table td,table th{padding:0}.c9{margin-left:64.3pt;padding-top:0pt;padding-left:0pt;padding-bottom:14.2pt;line-height:1.0;orphans:2;widows:2;text-align:left;margin-right:28.4pt}.c4{margin-left:0pt;padding-top:18pt;list-style-position:inside;text-indent:45pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;text-align:left}.c36{margin-left:0pt;padding-top:20pt;list-style-position:inside;text-indent:45pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;text-align:left}.c40{padding-top:0pt;padding-bottom:14.2pt;line-height:1.0;orphans:2;widows:2;text-align:left;margin-right:28.4pt}.c5{padding-top:0pt;padding-bottom:7.1pt;line-height:1.1500000000000001;orphans:2;widows:2;text-align:left;height:11pt}.c44{margin-left:18pt;padding-top:3pt;padding-bottom:4pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c18{padding-top:10pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left;height:11pt}.c11{margin-left:18pt;padding-top:3pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c19{padding-top:10pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c38{padding-top:0pt;padding-bottom:11pt;line-height:1.0;orphans:2;widows:2;text-align:justify}.c30{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c7{padding-top:0pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:justify}.c31{padding-top:0pt;padding-bottom:7.1pt;line-height:1.1500000000000001;orphans:2;widows:2;text-align:left}.c47{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:right}.c14{padding-top:0pt;padding-bottom:7.1pt;line-height:1.1500000000000001;orphans:2;widows:2;text-align:justify}.c12{padding-top:0pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c0{background-color:#c0c0c0;font-size:10.5pt;font-family:"Lohit Devanagari";font-style:italic;font-weight:700}.c35{padding-top:20pt;padding-bottom:6pt;line-height:1.0;page-break-after:avoid;text-align:left}.c16{-webkit-text-decoration-skip:none;color:#000080;text-decoration:underline;vertical-align:baseline;text-decoration-skip-ink:none}.c25{background-color:#c0c0c0;font-weight:400;font-size:10.5pt;font-family:"Lohit Devanagari";font-style:normal}.c24{padding-top:12pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;text-align:left}.c33{padding-top:0pt;padding-bottom:0pt;line-height:1.15;text-align:left}.c13{font-weight:400;font-size:11pt;font-family:"Arial";font-style:normal}.c8{font-weight:400;font-size:20pt;font-family:"Arial";font-style:normal}.c29{font-weight:700;font-size:12pt;font-family:"Liberation Serif";font-style:normal}.c28{background-color:#ffff00;font-weight:700;font-size:10.5pt;font-family:"Lohit Devanagari"}.c39{font-weight:400;font-size:12pt;font-family:"Arial";font-style:normal}.c17{text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;color:#000080;text-decoration:underline}.c21{font-weight:700;font-size:12pt;font-family:"Liberation Serif";font-style:italic}.c32{font-weight:400;font-size:26pt;font-family:"Arial";font-style:normal}.c42{font-weight:400;font-size:11pt;font-family:"Lobster";font-style:normal}.c2{font-weight:400;font-size:16pt;font-family:"Arial";font-style:normal}.c37{background-color:#c0c0c0;font-size:10.5pt;font-family:"Lohit Devanagari";font-style:normal}.c6{font-weight:400;font-size:12pt;font-family:"Liberation Serif";font-style:normal}.c27{background-color:#999999;font-weight:700;font-size:10.5pt;font-family:"Lohit Devanagari"}.c43{color:#0000ff;text-decoration:none;vertical-align:baseline}.c15{font-weight:400;font-size:12pt;font-family:"Liberation Serif"}.c41{background-color:#c0c0c0;font-size:10.5pt;font-family:"Lohit Devanagari"}.c23{background-color:#ffffff;max-width:481.9pt;padding:56.7pt 56.7pt 84.7pt 56.7pt}.c1{color:#000000;text-decoration:none;vertical-align:baseline}.c45{vertical-align:baseline;font-size:15pt}.c10{color:inherit;text-decoration:inherit}.c46{font-size:12pt;font-family:"Liberation Serif"}.c3{padding:0;margin:0}.c26{text-indent:36pt}.c22{font-style:italic}.c34{font-weight:700}.c20{height:11pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c23"><div><p class="c20 c47"><span class="c1 c42"></span></p></div><p class="c24 title"><span class="c1 c32">Documenta&ccedil;&atilde;o Infra IntraJur 2.0</span></p><p class="c5"><span class="c6 c1"></span></p><p class="c5"><span class="c6 c1"></span></p><ol class="c3 lst-kix_list_1-1 start" start="1"><li class="c4"><h2 id="h.eyeg8jpgnrpx" style="display:inline"><span class="c2 c1">Neste documento teremos:</span></h2></li></ol><p class="c5"><span class="c6 c1"></span></p><ul class="c3 lst-kix_list_2-0 start"><li class="c9"><span class="c6 c1">Descri&ccedil;&atilde;o de instala&ccedil;&atilde;o de ambiente de </span><span class="c15 c1 c22">desenvolvimento/servidor</span><span class="c6 c1">&nbsp;para CakePHP 3.x</span></li><li class="c9"><span class="c6 c1">Descri&ccedil;&atilde;o de instala&ccedil;&atilde;o de SQLserver em ambiente Linux (UBUNTU 16.04.5)</span></li><li class="c9"><span class="c1 c6">Descri&ccedil;&atilde;o de Instala&ccedil;&atilde;o de servidor MySQL em ambiente Linux</span></li><li class="c9"><span class="c6 c1">Configura&ccedil;&atilde;o de odbc, </span><span>odbc FreeTDS</span><span class="c6 c1">&nbsp;para comunica&ccedil;&atilde;o com SQLserver em PHP 7.x</span></li><li class="c9"><span class="c6 c1">Configura&ccedil;&atilde;o de SSL em servidor local Linux </span></li></ul><ol class="c3 lst-kix_list_1-1 start" start="1"><li class="c4"><h2 id="h.3xhgsfkxvx44" style="display:inline"><span class="c2 c1">Conhecimentos desejados:</span></h2></li></ol><p class="c5"><span class="c6 c1"></span></p><ul class="c3 lst-kix_list_3-0 start"><li class="c9"><span class="c6 c1">Ambiente Linux;</span></li><li class="c9"><span class="c6 c1">SQLserver, MySQL ou qualquer outro SGBD</span></li><li class="c9"><span class="c6 c1">Apache + PHP</span></li></ul><hr style="page-break-before:always;display:none;"><p class="c20 c40"><span class="c6 c1"></span></p><h1 class="c35" id="h.pjvgsw2k1vy3"><span class="c45">Sum&aacute;rio</span><span class="c1 c39">:</span></h1><p class="c12 c20"><span class="c13 c1"></span></p><p class="c19"><span class="c34"><a class="c10" href="#h.i8u43xovwmcz">Configura&ccedil;&atilde;o de M&aacute;quina ou VR:</a></span><span class="c34">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c34"><a class="c10" href="#h.i8u43xovwmcz">3</a></span></p><p class="c11 c20"><span class="c13 c1"></span></p><p class="c11"><span><a class="c10" href="#h.273cnchlqr7f">Configura&ccedil;&atilde;o m&iacute;nima;</a></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span><a class="c10" href="#h.273cnchlqr7f">3</a></span></p><p class="c11"><span><a class="c10" href="#h.hu0qgdujxe79">Instala&ccedil;&atilde;o de distro Ubuntu 16.04;</a></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span><a class="c10" href="#h.hu0qgdujxe79">3</a></span></p><p class="c18"><span class="c13 c1"></span></p><p class="c18"><span class="c1 c13"></span></p><p class="c19"><span class="c34"><a class="c10" href="#h.lelz3tgdod79">Instala&ccedil;&atilde;o e configura&ccedil;&atilde;o de Ambiente:</a></span><span class="c34">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c34"><a class="c10" href="#h.lelz3tgdod79">4</a></span></p><p class="c11 c20"><span class="c13 c1"></span></p><p class="c11"><span><a class="c10" href="#h.gzpeoeq8dsnu">Instala&ccedil;&atilde;o e configura&ccedil;&atilde;o Apache2 + PHP 7.x;</a></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span><a class="c10" href="#h.gzpeoeq8dsnu">4</a></span></p><p class="c11"><span><a class="c10" href="#h.1moxfqbcc98o">Instala&ccedil;&atilde;o do Microsoft SQLserver;</a></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span><a class="c10" href="#h.1moxfqbcc98o">5</a></span></p><p class="c11"><span><a class="c10" href="#h.kw39xjtmlj5q">Instala&ccedil;&atilde;o do MySQL;</a></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span><a class="c10" href="#h.kw39xjtmlj5q">7</a></span></p><p class="c11"><span><a class="c10" href="#h.hbtad3iij38l">Configurando HTTPS;</a></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span><a class="c10" href="#h.hbtad3iij38l">7</a></span></p><p class="c44"><span><a class="c10" href="#h.7t5b5uabf85e">Clonando reposit&oacute;rio GIT;</a></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span><a class="c10" href="#h.7t5b5uabf85e">10</a></span></p><p class="c20 c30"><span class="c13 c1"></span></p><p class="c12 c20"><span class="c13 c1"></span></p><hr style="page-break-before:always;display:none;"><p class="c20 c33"><span class="c6 c1"></span></p><ol class="c3 lst-kix_list_1-0 start" start="1"><li class="c36"><h1 id="h.i8u43xovwmcz" style="display:inline"><span class="c1 c8">Configura&ccedil;&atilde;o de M&aacute;quina ou VR:</span></h1></li></ol><p class="c5"><span class="c6 c1"></span></p><p class="c31"><span class="c6 c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Inicialmente precisaremos fazer a instala&ccedil;&atilde;o de uma distro Linux. Recomendamos fortemente o uso da mesma distro deste documento(</span><span class="c6 c16"><a class="c10" href="https://www.google.com/url?q=http://releases.ubuntu.com/16.04/&amp;sa=D&amp;ust=1544187384985000">Ubuntu 16.04.5</a></span><span class="c6 c1">). Tamb&eacute;m &eacute; poss&iacute;vel realizar este procedimento em uma m&aacute;quina virtual, para isto, tamb&eacute;m ser&aacute; detalhado a configura&ccedil;&atilde;o da mesma.</span></p><ol class="c3 lst-kix_list_1-1" start="2"><li class="c4"><h2 id="h.273cnchlqr7f" style="display:inline"><span class="c2 c1">Configura&ccedil;&atilde;o m&iacute;nima;</span></h2></li></ol><p class="c14"><span class="c6 c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Usaremos o </span><span class="c16 c6"><a class="c10" href="https://www.google.com/url?q=https://www.virtualbox.org/wiki/Downloads&amp;sa=D&amp;ust=1544187384985000">Oracle VM VirtualBox</a></span><span class="c6 c1">&nbsp;em sua vers&atilde;o 5.2.22 para esse procedimento, no entanto, nossa recomenda&ccedil;&atilde;o e o uso da vers&atilde;o mas recente deste software.</span></p><p class="c14"><span class="c6 c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c6 c1">A configura&ccedil;&atilde;o da m&aacute;quina necessitar&aacute; de pelo menos</span><span class="c29 c1">&nbsp;2GB de mem&oacute;ria RAM</span><span class="c6 c1">, preprocessador com pelo menos </span><span class="c29 c1">2 threads</span><span class="c6 c1">&nbsp;e um </span><span class="c1 c29">HD com </span><span class="c34 c46">20</span><span class="c29 c1">GB</span><span class="c6 c1">&nbsp;de espa&ccedil;o no </span><span class="c15">m&iacute;nimo</span><span class="c6 c1">, lembre-se de colocar a configura&ccedil;&atilde;o da rede em modo Bridge. </span><span class="c6 c1">Feito isso teremos uma m&aacute;quina virtual apta a realizar os procedimentos que ser&atilde;o descritos abaixo.</span></p><ol class="c3 lst-kix_list_1-1" start="3"><li class="c4"><h2 id="h.hu0qgdujxe79" style="display:inline"><span class="c2 c1">Instala&ccedil;&atilde;o de distro Ubuntu 16.04;</span></h2></li></ol><p class="c14"><span class="c6 c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Com a imagem (.ISO) da vers&atilde;o do </span><span class="c16 c6"><a class="c10" href="https://www.google.com/url?q=http://releases.ubuntu.com/16.04/&amp;sa=D&amp;ust=1544187384987000">Ubuntu 16,04</a></span><span class="c6 c1">&nbsp;j&aacute; baixada, (no caso de usar uma m&aacute;quina virtual, lembre-se de montar a imagem no disco no drive e ajustar a sequ&ecirc;ncia de boot, no caso de uma m&aacute;quina real, </span><span class="c16 c6"><a class="c10" href="https://www.google.com/url?q=https://canaltech.com.br/utilitarios/como-gravar-imagens-iso-em-um-cd-dvd-ou-blu-ray/&amp;sa=D&amp;ust=1544187384987000">grave um DVD</a></span><span class="c6 c1">&nbsp;com a imagem ou fa&ccedil;a um </span><span class="c16 c6"><a class="c10" href="https://www.google.com/url?q=http://www.mundoubuntu.com.br/tutoriais/instalacao/292-faca-voce-mesmo-um-pendrive-de-instalacao-do-ubuntu-16-04-lts-the-xenial-xerus&amp;sa=D&amp;ust=1544187384988000">pendrive </a></span><span class="c17"><a class="c10" href="https://www.google.com/url?q=http://www.mundoubuntu.com.br/tutoriais/instalacao/292-faca-voce-mesmo-um-pendrive-de-instalacao-do-ubuntu-16-04-lts-the-xenial-xerus&amp;sa=D&amp;ust=1544187384988000">boot&aacute;vel</a></span><span class="c6 c1">) e a forma de boot ajustada, podemos iniciar com a instala&ccedil;&atilde;o.</span></p><p class="c14"><span class="c6 c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ao iniciar a instala&ccedil;&atilde;o, selecione a linguagem desejada, usaremos &lsquo;Portugu&ecirc;s do Brasil&rsquo; e clique em continuar. </span><span>&Eacute;</span><span class="c6 c1">&nbsp;poss&iacute;vel instalar atualiza&ccedil;&otilde;es agora mas evite atualizar a vers&atilde;o do sistema acima do 16.04 ou a instala&ccedil;&atilde;o de softwares de terceiros, principalmente se a m&aacute;quina tiver a finalidade de servidor. No &lsquo;</span><span class="c15 c1 c22">Tipo de instala&ccedil;&atilde;o</span><span class="c6 c1">&rsquo;, como usaremos o disco todo, deixaremos no padr&atilde;o &lsquo;</span><span class="c15 c1 c22">Apagar disco e reinstalar o Ubuntu</span><span class="c6 c1">&rsquo;, depois de confirmar selecione seu UTC, Layout do teclado e os dados do usu&aacute;rio, conclu&iacute;do essa etapa, basta aguardar a conclus&atilde;o da instala&ccedil;&atilde;o.</span></p><hr style="page-break-before:always;display:none;"><p class="c5"><span class="c6 c1"></span></p><ol class="c3 lst-kix_list_1-0" start="2"><li class="c36"><h1 id="h.lelz3tgdod79" style="display:inline"><span class="c8 c1">Instala&ccedil;&atilde;o e configura&ccedil;&atilde;o de Ambiente:</span></h1></li></ol><ol class="c3 lst-kix_list_1-1 start" start="1"><li class="c4"><h2 id="h.gzpeoeq8dsnu" style="display:inline"><span class="c2 c1">Instala&ccedil;&atilde;o e configura&ccedil;&atilde;o Apache2 + PHP 7.x;</span></h2></li></ol><p class="c14"><span class="c6 c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Agora com o OS instalado e funcional, vamos iniciar o procedimento de instala&ccedil;&atilde;o do Apache2. No terminal:</span></p><p class="c7"><span class="c0 c1">sudo apt install apache2</span></p><p class="c7"><span class="c0 c1">sudo apt install git</span></p><p class="c7"><span class="c0 c1">sudo add-apt-repository ppa:ondrej/php</span></p><p class="c7"><span class="c0 c1">sudo apt update</span></p><p class="c7"><span class="c0 c1">sudo apt install php7.2 php7.2-gd</span></p><p class="c7"><span class="c0 c1">sudo apt install php7.2-intl php7.2-mbstring php7.2-odbc php7.2-mysql php7.2-sqlite3 php7.2-xml</span></p><p class="c7"><span class="c0">sudo phpenmod mbstring</span></p><p class="c7"><span class="c0 c1">sudo phpenmod intl</span></p><p class="c7"><span class="c0 c1">sudo phpenmod odbc</span></p><p class="c7"><span class="c0 c1">sudo phpenmod sqlite3</span></p><p class="c7"><span class="c0 c1">sudo phpenmod xml</span></p><p class="c7"><span class="c0 c1">sudo phpenmod gd</span></p><p class="c7"><span class="c0 c1">sudo a2enmod rewrite</span></p><p class="c7"><span class="c0 c1">sudo service apache2 restart</span></p><p class="c5"><span class="c6 c1"></span></p><p class="c14 c26"><span class="c6 c1">Seguindo todas as linhas, agora j&aacute; ser&aacute; poss&iacute;vel abrir </span><span class="c6 c1"><a class="c10" href="https://www.google.com/url?q=http://localhost/&amp;sa=D&amp;ust=1544187384992000">http://localhost</a></span><span class="c6 c1">. Para testar o PHP e seus m&oacute;dulos vamos voltar ao terminal e ir at&eacute; a pasta padr&atilde;o do Apache2: </span><span class="c1 c21">/var/www/html/.</span></p><p class="c7"><span class="c0 c1">cd /var/www/html</span></p><p class="c7"><span class="c0 c1">sudo pico phpinfo.php</span></p><p class="c5"><span class="c15 c1 c22"></span></p><p class="c14"><span class="c6 c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Agora com o </span><span>PICO</span><span class="c6 c1">&nbsp;aberto colocaremos um c&oacute;digo em PHP para que possamos identificar se todos os m&oacute;dulos que instalamos est&aacute; devidamente ativado.</span></p><p class="c7 c20"><span class="c0 c1"></span></p><p class="c7"><span class="c0 c1">&lt;?php</span></p><p class="c7"><span class="c0 c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;phpinfo();</span></p><p class="c7"><span class="c0 c1">?&gt;</span></p><p class="c14 c26"><span class="c6 c1">Para salvar o novo arquivo no sistema PICO, colocamos essas combina&ccedil;&otilde;es de teclas respectivamente:</span></p><p class="c7"><span class="c0 c1">CTRL + X</span></p><p class="c7"><span class="c0 c1">S</span></p><p class="c7"><span class="c0 c1">&lt;ENTER&gt;</span></p><p class="c7 c20"><span class="c0 c1"></span></p><p class="c14"><span class="c6 c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Agora podemos voltar ao navegador, no endere&ccedil;o: </span><span class="c6 c1"><a class="c10" href="https://www.google.com/url?q=http://localhost/phpinfo.php&amp;sa=D&amp;ust=1544187384994000">http://localhost/phpinfo.php</a></span><span class="c6 c1">. Nesta tela ser&aacute; poss&iacute;vel ver todas as informa&ccedil;&otilde;es do PHP. Tod</span><span class="c15">a</span><span class="c6 c1">s as extens&otilde;es, arquivos de configura&ccedil;&atilde;o e suas respectivas localiza&ccedil;&otilde;es.</span></p><p class="c14"><span class="c6 c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Uma extens&atilde;o que n&atilde;o instalamos, por&eacute;m, se faz muito importante e j&aacute; deveria vir com a compila&ccedil;&atilde;o do PHP7.2 &eacute; o &lsquo;</span><span class="c15 c1 c22">openssl</span><span class="c6 c1">&rsquo;, caso encontre uma tabela </span><span>espec&iacute;fica</span><span class="c6 c1">&nbsp;para essa extens&atilde;o no phpinfo significa que j&aacute; est&aacute; instalado e funcionando. Caso n&atilde;o esteja:</span></p><p class="c7"><span class="c0 c1">sudo apt install openssl</span></p><p class="c7"><span class="c0 c1">sudo phpenmod ssl</span></p><p class="c7"><span class="c0">php -i | grep -i openssl</span><span>l</span></p><p class="c38"><span class="c0 c1">sudo service apache2 restart</span></p><p class="c31"><span class="c15 c1 c22">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c14 c26"><span class="c6 c1">Agora precisamos </span><span class="c6 c1"><a class="c10" href="https://www.google.com/url?q=https://www.digitalocean.com/community/tutorials/how-to-rewrite-urls-with-mod_rewrite-for-apache-on-ubuntu-16-04&amp;sa=D&amp;ust=1544187384995000">configurar o modulo rewrite </a></span><span class="c6 c1">do Apache2. Para isso, ainda no terminal, vamos at&eacute; a pasta das configura&ccedil;&otilde;es de sites:</span></p><p class="c7"><span class="c0 c1">sudo pico /etc/apache2/apache2.conf</span></p><p class="c5"><span class="c6 c1"></span></p><p class="c14"><span class="c15 c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Neste arquivo precisamos editar uma configura&ccedil;&atilde;o chamada &lsquo;AllowOverride&rsquo; que deve est&aacute; configurado como &lsquo;None&rsquo;, e devemos alterar para &lsquo;All&rsquo;, voc&ecirc; pode encontrar </span><span>v&aacute;rias</span><span class="c6 c1">&nbsp;configura&ccedil;&otilde;es dessas, mas apenas o &lsquo;Directory&rsquo; que estiver apontando para a localiza&ccedil;&atilde;o de seu servidor deve ser alterado:</span></p><p class="c7"><span class="c0 c1">&lt;Directory /var/www/html&gt;</span></p><p class="c7"><span class="c0 c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Options Indexes FollowSymLinks</span></p><p class="c7"><span class="c37 c1 c34">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#altera linha abaixo</span></p><p class="c7"><span class="c34 c41">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AllowOverride All </span></p><p class="c7"><span class="c0 c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Require all granted</span></p><p class="c7"><span class="c0 c1">&lt;/Directory&gt;</span></p><p class="c7 c20"><span class="c0 c1"></span></p><p class="c14"><span class="c6 c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Usando o PICO, salve o arquivo, agora basta reiniciar o Apache2, no terminal:</span></p><p class="c7"><span class="c0 c1">sudo service apache2 reload</span></p><p class="c7"><span class="c0 c1">sudo service apache2 restart</span></p><p class="c5"><span class="c15 c1 c22"></span></p><ol class="c3 lst-kix_list_1-1" start="2"><li class="c4"><h2 id="h.1moxfqbcc98o" style="display:inline"><span class="c22">Instala&ccedil;&atilde;o do Microsoft SQLserver;</span></h2></li></ol><p class="c14"><span class="c15 c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Para realizar a </span><span class="c15 c43"><a class="c10" href="https://www.google.com/url?q=https://docs.microsoft.com/pt-br/sql/linux/quickstart-install-connect-ubuntu?view%3Dsql-server-2017&amp;sa=D&amp;ust=1544187384997000">instala&ccedil;&atilde;o do SGBD SQLserver 2017</a></span><span class="c15">&nbsp;no linux</span><span class="c6 c1">, vamos seguir o tutorial disponibilizado pela Microsoft. Onde a primeira coisa a fazer &eacute; adicionar o reposit&oacute;rio do SQLserver:</span></p><p class="c12"><span class="c0 c1">wget -qO- https://packages.microsoft.com/keys/microsoft.asc | sudo apt-key add -</span></p><p class="c12 c20"><span class="c0 c1"></span></p><p class="c12"><span class="c0 c1">sudo add-apt-repository &quot;$(wget -qO-</span><span class="c0">&nbsp;</span><span class="c0 c1">https://packages.microsoft.com/config/ubuntu/16.04/mssql-server-2017.list)&quot;</span></p><p class="c5"><span class="c6 c1"></span></p><p class="c14"><span class="c6 c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Agora atualizaremos a lista de pacotes do Linux, agora com o reposit&oacute;rio da Microsoft e iniciaremos a instala&ccedil;&atilde;o do SQLserver. </span></p><p class="c7"><span class="c0 c1">sudo apt update</span></p><p class="c7"><span class="c0 c1">sudo apt install -y mssql-server &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c1 c22 c28">OR </span><span class="c1 c22 c27">&nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c27 c1 c22">sudo apt-get install -y -t xenial mssql-server</span></p><p class="c14"><span class="c6 c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Agora com o SQLserver 2017 j&aacute; instalado, podemos realizar sua configura&ccedil;&atilde;o e inicializa&ccedil;&atilde;o do servi&ccedil;o:</span></p><p class="c7"><span class="c0 c1">sudo /opt/mssql/bin/mssql-conf setup</span></p><p class="c5"><span class="c6 c1"></span></p><p class="c14 c26"><span class="c1 c15">Aqui selecionaremos qual a vers&atilde;o do SQLserver que instalaremos, em nosso caso, </span><span>escolhemos</span><span class="c15 c1">&nbsp;a Developer (2) e selecionaremos a linguagem do servidor</span><span class="c15">, em nosso caso usaremos </span><span class="c6 c1">Ingl&ecirc;s(1) para o bom funcionamento dos campos de data dentro do CakePHP. Por &uacute;ltimo informaremos a senha do usu&aacute;rio SA, o administrador do SQLserver. Para testar o servidor usaremos o seguinte comando:</span></p><p class="c7"><span class="c0 c1">systemctl status mssql-server</span></p><p class="c5"><span class="c6 c1"></span></p><p class="c14 c26"><span class="c6 c1">Agora com o SQLserver funcionando, instalaremos o freeTDS, ele far&aacute; a comunica&ccedil;&atilde;o com o SQLserver:</span></p><p class="c7"><span class="c0 c1">sudo -i</span></p><p class="c7"><span class="c0 c1">apt-get install </span><span class="c0">freetds-bin</span><span class="c0 c1">&nbsp;freetds-common tdsodbc odbcinst unixodbc unixodbc-dev</span></p><p class="c7"><span class="c0 c1">mv /etc/odbcinst.ini /etc/odbcinst.ini.bak</span></p><p class="c7"><span class="c0 c1">cp /usr/share/tdsodbc/odbcinst.ini /etc/</span></p><p class="c5"><span class="c6 c1"></span></p><p class="c14 c26"><span class="c6 c1">Para testar a conex&atilde;o com o banco de dados pode usar o seguinte comando, substituindo o host, user, e password pelos respectivos dados(-D &eacute; opcional, caso n&atilde;o tenha um banco criado no servidor pode apagar essa parte):</span></p><p class="c7"><span class="c0 c1">tsql -H my_server_host -p 1433 -U my_user -P my_password -D my_database</span></p><p class="c5"><span class="c6 c1"></span></p><p class="c14"><span class="c15 c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Agora precisamos instalar o drive que usar&aacute; essa configura&ccedil;&atilde;o, para tal precisamos da extens&atilde;o &lsquo;sqlsrv&rsquo; do PHP, sua instala&ccedil;&atilde;o envolve o PEAR. </span><span class="c15 c1"><a class="c10" href="https://www.google.com/url?q=https://docs.microsoft.com/pt-br/sql/connect/php/installation-tutorial-linux-mac?view%3Dsql-server-2017&amp;sa=D&amp;ust=1544187385000000">Seguiremos os seguintes comandos no terminal:</a></span></p><p class="c7"><span class="c0 c1">sudo apt install php7.2-dev g++ php-pear</span></p><p class="c7"><span class="c0 c1">sudo pecl install sqlsrv</span></p><p class="c7" id="h.gjdgxs"><span class="c0">sudo pecl install pdo_sqlsrv</span></p><p class="c7"><span class="c0 c1">sudo -i</span></p><p class="c7"><span class="c0 c1">php</span><span class="c0">&nbsp;</span><span class="c0 c1">echo extension=sqlsrv.so &gt;&gt; `php --ini | grep &quot;Scan for additional .ini files&quot; | sed -e</span><span class="c0">&nbsp;</span><span class="c0 c1">&quot;s|.*:\s*||&quot;`/20-sqlsrv.ini</span></p><p class="c7"><span class="c0 c1">a2dismod mpm_event</span></p><p class="c7"><span class="c0 c1">a2enmod mpm_prefork</span></p><p class="c7"><span class="c0 c1">echo &quot;extension=pdo_sqlsrv.so&quot; &gt;&gt; /etc/php/7.2/apache2/conf.d/30-pdo_sqlsrv.ini</span></p><p class="c7"><span class="c0 c1">echo &quot;extension=sqlsrv.so&quot; &gt;&gt; /etc/php/7.2/apache2/conf.d/20-sqlsrv.ini</span></p><p class="c7"><span class="c0 c1">exit</span></p><p class="c7"><span class="c0 c1">sudo service apache2 restart</span></p><hr style="page-break-before:always;display:none;"><p class="c7 c20"><span class="c1 c25"></span></p><p class="c14"><span class="c6 c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Agora para concluir a configura&ccedil;&atilde;o da conex&atilde;o do CakePHP com o SQLserver, basta realizar a </span><span class="c16 c6"><a class="c10" href="https://www.google.com/url?q=https://docs.microsoft.com/pt-br/sql/connect/odbc/linux-mac/installing-the-microsoft-odbc-driver-for-sql-server?view%3Dsql-server-2017&amp;sa=D&amp;ust=1544187385001000">instala&ccedil;&atilde;o do msodbcsql17</a></span><span class="c6 c1">. Siga os comandos no terminal:</span></p><p class="c12"><span class="c0 c1">sudo -i</span></p><p class="c12"><span class="c0 c1">curl https://packages.microsoft.com/keys/microsoft.asc | apt-key add -</span></p><p class="c12"><span class="c0 c1">curl https://packages.microsoft.com/config/ubuntu/14.04/prod.list &gt;</span><span class="c0">&nbsp;/</span><span class="c0 c1">etc/apt/sources.list.d/mssql-release.list</span></p><p class="c12"><span class="c0 c1">exit</span></p><p class="c12"><span class="c0 c1">sudo apt update</span></p><p class="c12"><span class="c0 c1">sudo ACCEPT_EULA=Y apt-get install msodbcsql17</span></p><p class="c12"><span class="c0 c1">sudo apt install unixodbc-dev</span></p><ol class="c3 lst-kix_list_1-1" start="3"><li class="c4"><h2 id="h.kw39xjtmlj5q" style="display:inline"><span class="c2 c1">Instala&ccedil;&atilde;o do MySQL;</span></h2></li></ol><p class="c5"><span class="c6 c1"></span></p><p class="c14"><span class="c6 c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A instala&ccedil;&atilde;o do servidor MySQL &eacute; feita toda ela pelo terminal. Este documento </span><span>far&aacute;</span><span class="c6 c1">&nbsp;uso da vers&atilde;o 5.7 e &eacute; recomendado que se use a mesma. Fato importante &eacute; que no ato da instala&ccedil;&atilde;o ser&aacute; solicitado a senha do usu&aacute;rio &lsquo;</span><span class="c15 c1 c22">root</span><span class="c6 c1">&rsquo;. Para tal, siga os comandos:</span></p><p class="c7"><span class="c0 c1">sudo apt install mysql-server</span></p><p class="c7 c20"><span class="c0 c1"></span></p><p class="c14"><span class="c6 c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Configura</span><span class="c15">r o m&oacute;dulo </span><span class="c6 c1">seguran&ccedil;a do MySQL n&atilde;o &eacute; essencial caso </span><span class="c15">j&aacute; o tenha feito na instala&ccedil;&atilde;o, se n&atilde;o, ou</span><span class="c6 c1">&nbsp;caso esteja criando um ambiente de servidor coloque o comando abaixo no terminal e siga as instru&ccedil;&otilde;es:</span></p><p class="c7 c20"><span class="c0 c1"></span></p><p class="c7"><span class="c0">sudo </span><span class="c0 c1">mysql_secure_installation</span></p><p class="c7 c20"><span class="c0 c1"></span></p><ol class="c3 lst-kix_list_1-1" start="4"><li class="c4"><h2 id="h.hbtad3iij38l" style="display:inline"><span class="c2 c1">Configurando HTTPS;</span></h2></li></ol><p class="c5"><span class="c6 c1"></span></p><p class="c14"><span class="c6 c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A configura&ccedil;&atilde;o do servidor Apache2 com o </span><span>m&oacute;dulo</span><span class="c6 c1">&nbsp;SSL &eacute; essencial para o CakePHP 3.x, primeiramente vamos precisar </span><span class="c16 c6"><a class="c10" href="https://www.google.com/url?q=https://www.digitalocean.com/community/tutorials/how-to-create-a-self-signed-ssl-certificate-for-apache-in-ubuntu-16-04&amp;sa=D&amp;ust=1544187385004000">criar certificados SSL</a></span><span class="c6 c1">, voltando ao terminal:</span></p><p class="c12"><span class="c0 c1">sudo openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout /etc/ssl/private/apache-selfsigned.key -out /etc/ssl/certs/apache-selfsigned.crt</span></p><p class="c7 c20"><span class="c0 c1"></span></p><p class="c14"><span class="c6 c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ser&aacute; necess&aacute;rio passar algumas configura&ccedil;&otilde;es, abaixo as quest&otilde;es com suas respectivas respostas:</span></p><p class="c7"><span class="c0 c1">Country Name (2 letter code) [AU]:BR</span></p><p class="c7"><span class="c0 c1">State or Province Name (full name) [Some-State]:SaoPaulo</span></p><p class="c7"><span class="c0 c1">Locality Name (eg, city) []:SP</span></p><p class="c7"><span class="c0 c1">Organization Name (eg, company) [Internet Widgits Pty Ltd]:ASPREV</span></p><p class="c7"><span class="c0 c1">Organizational Unit Name (eg, section) []:ASPREV</span></p><p class="c7"><span class="c0 c1">Common Name (e.g. server FQDN or YOUR name) []:localhost</span></p><p class="c7"><span class="c0 c1">Email Address []:</span><span class="c0 c16"><a class="c10" href="mailto:loca@locahost.com">local@locahost.com</a></span></p><p class="c5"><span class="c6 c1"></span></p><p class="c14"><span class="c6 c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Devemos tamb&eacute;m criar um Diffie-Hellman, para isso usaremos o comando no terminal, pode demorar alguns minutos:</span></p><p class="c7"><span class="c0 c1">sudo openssl dhparam -out /etc/ssl/certs/dhparam.pem 2048</span></p><p class="c5"><span class="c6 c1"></span></p><p class="c14"><span class="c6 c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Agora precisamos criar um arquivo de configura&ccedil;&atilde;o para o SSL, para isso vamos at&eacute; o diret&oacute;rio de configura&ccedil;&otilde;es do Apache2:</span></p><p class="c7"><span class="c0 c1">cd /etc/apache2/conf-available</span></p><p class="c7"><span class="c0 c1">sudo pico /etc/apache2/conf-available/ssl-params.conf</span></p><p class="c5"><span class="c6 c1"></span></p><p class="c14"><span class="c6 c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Neste arquivo vamos colocar o seguinte conte&uacute;do:</span></p><p class="c7"><span class="c0 c1"># from https://cipherli.st/</span></p><p class="c7"><span class="c0 c1"># and https://raymii.org/s/tutorials/Strong_SSL_Security_On_Apache2.html</span></p><p class="c7 c20"><span class="c0 c1"></span></p><p class="c7"><span class="c0 c1">SSLCipherSuite EECDH+AESGCM:EDH+AESGCM:AES256+EECDH:AES256+EDH</span></p><p class="c7"><span class="c0 c1">SSLProtocol All -SSLv2 -SSLv3</span></p><p class="c7"><span class="c0 c1">SSLHonorCipherOrder On</span></p><p class="c7"><span class="c0 c1"># from https://cipherli.st/ # and https://r # Disable preloading HSTS for now. &nbsp;You can use the commented out header line that includes</span></p><p class="c7"><span class="c0 c1"># the &quot;preload&quot; directive if you understand the implications.</span></p><p class="c7"><span class="c0 c1">#Header always set Strict-Transport-Security &quot;max-age=63072000; includeSubdomains; preload&quot;</span></p><p class="c7"><span class="c0 c1">Header always set Strict-Transport-Security &quot;max-age=63072000; includeSubdomains&quot;</span></p><p class="c7"><span class="c0 c1">Header always set X-Frame-Options DENY</span></p><p class="c7"><span class="c0 c1">Header always set X-Content-Type-Options nosniff</span></p><p class="c7"><span class="c0 c1"># Requires Apache &gt;= 2.4</span></p><p class="c7"><span class="c0 c1">SSLCompression off </span></p><p class="c7"><span class="c0 c1">SSLSessionTickets Off</span></p><p class="c7"><span class="c0 c1">SSLUseStapling on </span></p><p class="c7"><span class="c0 c1">SSLStaplingCache &quot;shmcb:logs/stapling-cache(150000)&quot;</span></p><p class="c7"><span class="c0 c1">SSLOpenSSLConfCmd DHParameters &quot;/etc/ssl/certs/dhparam.pem&quot;</span></p><p class="c5"><span class="c6 c1"></span></p><p class="c14"><span class="c6 c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Salve o arquivo e saia do PICO. Agora precisamos modificar o arquivo de configura&ccedil;&atilde;o SSL </span><span>no</span><span class="c6 c1">&nbsp;Apache2, primeiramente vamos criar um backup do arquivo atual e depois vamos aplicar nossas mudan&ccedil;as:</span></p><p class="c12"><span class="c0 c1">sudo cp /etc/apache2/sites-available/default-ssl.conf /etc/apache2/sites-available/default-ssl.conf.bak</span></p><p class="c12 c20"><span class="c0 c1"></span></p><p class="c7"><span class="c0 c1">sudo gedit /etc/apache2/sites-available/default-ssl.conf</span></p><p class="c5"><span class="c0 c1"></span></p><hr style="page-break-before:always;display:none;"><p class="c5"><span class="c6 c1"></span></p><p class="c14"><span class="c6 c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Como j&aacute; criamos um backup podemos alterar o conte&uacute;do, j&aacute; sem os coment&aacute;rios, altere o conte&uacute;do para o seguinte alterando o ServerName para o IP de sua m&aacute;quina:</span></p><p class="c7"><span class="c0 c1">&lt;IfModule mod_ssl.c&gt;</span></p><p class="c7"><span class="c0 c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;VirtualHost _default_:443&gt;</span></p><p class="c7"><span class="c0 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ServerAdmin local@localhost.com</span></p><p class="c7"><span class="c0 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ServerName server_domain_or_IP</span></p><p class="c7"><span class="c0 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; DocumentRoot /var/www/html</span></p><p class="c7"><span class="c0 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ErrorLog ${APACHE_LOG_DIR}/error.log</span></p><p class="c7"><span class="c0 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CustomLog ${APACHE_LOG_DIR}/access.log combined</span></p><p class="c7"><span class="c0 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SSLEngine on</span></p><p class="c7"><span class="c0 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SSLCertificateFile &nbsp; &nbsp; &nbsp;/etc/ssl/certs/apache-selfsigned.crt</span></p><p class="c7"><span class="c0 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SSLCertificateKeyFile /etc/ssl/private/apache-selfsigned.key</span></p><p class="c7"><span class="c0 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;FilesMatch &quot;\.(cgi|shtml|phtml|php)$&quot;&gt;</span></p><p class="c7"><span class="c0 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SSLOptions +StdEnvVars</span></p><p class="c7"><span class="c0 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/FilesMatch&gt;</span></p><p class="c7"><span class="c0 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;Directory /usr/lib/cgi-bin&gt;</span></p><p class="c7"><span class="c0 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SSLOptions +StdEnvVars</span></p><p class="c7"><span class="c0 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/Directory&gt;</span></p><p class="c7"><span class="c0 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; BrowserMatch &quot;MSIE [2-6]&quot; \</span></p><p class="c7"><span class="c0 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;nokeepalive ssl-unclean-shutdown \</span></p><p class="c7"><span class="c0 c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;downgrade-1.0 force-response-1.0</span></p><p class="c7"><span class="c0 c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/VirtualHost&gt;</span></p><p class="c7"><span class="c0 c1">&lt;/IfModule&gt;</span></p><p class="c7 c20"><span class="c0 c1"></span></p><p class="c7 c20"><span class="c0 c1"></span></p><p class="c14"><span class="c6 c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Agora vamos ha</span><span>bilitaremos os seguintes</span><span class="c6 c1">&nbsp;m&oacute;dulos mod_ssl e mod_headers, siga os comandos no terminal:</span></p><p class="c7"><span class="c0 c1">sudo a2enmod ssl</span></p><p class="c7"><span class="c0 c1">sudo a2enmod headers</span></p><p class="c7"><span class="c0 c1">sudo a2ensite default-ssl<br>sudo a2enconf ssl-params</span></p><p class="c7"><span class="c0 c1">sudo service apache2 reload</span></p><p class="c7"><span class="c0 c1">sudo service apache2 restart</span></p><p class="c7 c20"><span class="c0 c1"></span></p><p class="c14"><span class="c6 c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Se tudo der certo, podemos testar com o seguinte comando:</span></p><p class="c7"><span class="c0 c1">sudo apache2ctl configtest</span></p><p class="c7 c20"><span class="c0 c1"></span></p><p class="c14"><span class="c6 c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;O resultado esperado &eacute;:</span></p><p class="c7"><span class="c0 c1">AH00558: apache2: Could not reliably determine the server&#39;s fully qualified domain name, using 127.0.1.1. Set the &#39;ServerName&#39; directive globally to suppress this message</span></p><p class="c7"><span class="c0 c1">Syntax OK</span></p><hr style="page-break-before:always;display:none;"><p class="c7 c20"><span class="c25 c1"></span></p><ol class="c3 lst-kix_list_1-1" start="5"><li class="c4"><h2 id="h.7t5b5uabf85e" style="display:inline"><span class="c2 c1">Clonando reposit&oacute;rio GIT;</span></h2></li></ol><p class="c5"><span class="c6 c1"></span></p><p class="c14"><span class="c6 c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Neste ponto, conclu&iacute;mos todas as instala&ccedil;&otilde;es e configura&ccedil;&otilde;es, restando apenas a cria&ccedil;&atilde;o de uma </span><span>c&oacute;pia</span><span class="c6 c1">&nbsp;do reposit&oacute;rio. Para isso vamos at&eacute; a pasta respons&aacute;vel pelo public_html do Apache2 que por padr&atilde;o &eacute; &lsquo;/var/www/html/&rsquo;(essa </span><span class="c16 c6"><a class="c10" href="https://www.google.com/url?q=https://pt.stackoverflow.com/questions/14150/como-alterar-a-pasta-www-documentroot-para-outra-parti%25C3%25A7%25C3%25A3o-no-apache-2-4-ubunt&amp;sa=D&amp;ust=1544187385012000">pasta padr&atilde;o do Apache2</a></span><span class="c6 c1">&nbsp;pode ser alterada) pelo terminal e passaremos o seguinte c&oacute;digo:</span></p><p class="c7"><span class="c0 c1">sudo git clone </span><span class="c0 c16"><a class="c10" href="https://www.google.com/url?q=http://10.0.20.66/sj/intrajur2.git&amp;sa=D&amp;ust=1544187385013000">http://10.0.20.66/sj/intrajur2.git</a></span></p><p class="c7 c20"><span class="c0 c1"></span></p><p class="c14"><span class="c6 c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Depois de clonar o servidor, ser&aacute; necess&aacute;rio dar permiss&otilde;es nas pastas &lsquo;vendor&rsquo;, &lsquo;logs&rsquo;, &lsquo;tmp&rsquo; do CakePHP usando o seguinte comando no terminal:</span></p><p class="c7"><span class="c0 c1">sudo mkdir tmp</span></p><p class="c7"><span class="c0 c1">sudo mkdir logs</span></p><p class="c7"><span class="c0 c1">sudo chmod -R 777 </span><span class="c0">.</span></p><p class="c14"><span class="c6 c1">EX.:</span></p><p class="c7"><span class="c0 c1">sudo chmod -R 777 intrajur2/*</span></p><div><p class="c12 c20"><span class="c6 c1"></span></p></div></body></html>